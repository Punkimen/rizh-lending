"use strict";$(".burger__icon").on("click",(function(){$(this).toggleClass("active"),$(".header-mobile").slideToggle(),$("body").toggleClass("overley")}));let sliderQuantity=document.querySelector("#quantity-pay"),sliderTerm=document.querySelector("#term-pay"),enterItem=$(".enter__item-flex ");if(sliderQuantity){let e=$("#input-quantity");noUiSlider.create(sliderQuantity,{start:4,step:1,connect:[!0,!1],animate:!1,range:{min:0,max:14}}),e.on("change",(function(){let t=+e.val();sliderQuantity.noUiSlider.set([t,null])})),sliderQuantity.noUiSlider.on("update",(function(t,r){e.val(+t[r])}))}if(sliderTerm){let e=$("#input-term");noUiSlider.create(sliderTerm,{start:90,step:5,connect:[!0,!1],animate:!1,range:{min:10,max:115}}),e.on("change",(function(){let t=+e.val();sliderTerm.noUiSlider.set([t,null])})),sliderTerm.noUiSlider.on("update",(function(t,r){e.val(+t[r])}))}enterItem&&(enterItem.on("click",(function(e){e.preventDefault(),$(this).parent().toggleClass("active"),$(this).parent().hasClass("enter__item--camera")&&startCamera()})),$("#photo-new").on("click",(function(){$(".enter-photo__done").hide(),$("#photo-do").show(),startCamera()})));let dataType=$(".step-product").data("type");$(".product-body__label").data("type",dataType),$(".product-showMore").data("type",dataType),$(".product-body__label")&&("full-buy"===$(".product-body__label").data("type")?$(".product-body__label").text("Всю суму пізніше\n        (до 45 днів)"):"credit-buy"===$(".product-body__label").data("type")&&$(".product-body__label").text("Частинами: 4 платежі"));let showMore=$(".buy-choose__showMore");showMore.on("click",(function(){$(this).toggleClass("active"),"full-buy"===$(this).data("type")?$(".all-payments").slideToggle():"credit-buy"===$(this).data("type")?$(".parts-payments").slideToggle():$(this).parents(".buy-choose__head").next().slideToggle()}));let questionItem=$(".item-question"),questionItemHead=$(".item-question__head"),questionAsideItem=$(".questions-aside__elem"),questionContentItem=$(".questions-content__block");questionItemHead.on("click",(function(){$(this).parent().toggleClass("active")})),questionAsideItem.on("click",(function(){questionAsideItem.removeClass("active"),questionContentItem.removeClass("active"),$(this).addClass("active");let e=$(this).index();questionContentItem.eq(e).addClass("active")})),$('input[name="phone"]').mask("+380(ZZ)ZZZ-ZZ-ZZ",{translation:{Z:{pattern:/[0-9]/,optional:!0},0:{pattern:/\d/}},placeholder:"+380(_ _) _ _ _-_ _-_ _"}),$('input[name="sms-code"]').mask("0000"),$('input[name="date-day"]').mask("00"),$('input[name="date-mouth"]').mask("00"),$('input[name="date-year"]').mask("0000");let form2Step=document.querySelector("#step2-form"),documentChoosen=$(".document-choosen"),formSetting=$("#form-setting"),formPersonal=$("#form-personal"),regForm=$("#reg-form");if(documentChoosen.on("change",(function(){"passport"===$(this).val()?($(".form-questionnaire__pasports").show(),$(".form-questionnaire__idCard").hide()):($(".form-questionnaire__idCard").show(),$(".form-questionnaire__pasports").hide())})),form2Step){let e=$(".next-step"),t=document.querySelectorAll(".form-step2__item"),r=1,i=$("#accept_1"),o=$("#accept_2"),n=document.querySelectorAll(".step-pagination__item"),a=$("#form2-submit-btn");$(".accept-checkboxes").on("change",(function(){i.is(":checked")&&o.is(":checked")?a.removeAttr("disabled"):a.prop("disabled",!0)})),documentChoosen.on("change",(function(){"passport"===$(this).val()?($(".form-questionnaire__pasports").show(),$(".form-questionnaire__idCard").hide()):($(".form-questionnaire__idCard").show(),$(".form-questionnaire__pasports").hide())})),a.on("click",(function(e){e.preventDefault(),"next"===a.data("btn")?($(".form-questionnaire").show(),a.data("btn","submit")):"submit"===a.data("btn")&&$("#step2-form").submit()}));const s={nextStep(){if(3!=r)return r++,r},prevStep(){if(1!=r)return r--,r},renderStep(){n.forEach(e=>{+e.dataset.step==r&&e.classList.add("active")}),t.forEach((function(e){+e.dataset.step==r?e.classList.add("active"):e.classList.remove("active")}))}};$("#step2-form").validate({rules:{phone:{required:!0,minlength:7},"sms-code":{required:!0},"date-day":{required:!0},"date-mouth":{required:!0},"date-year":{required:!0},surname:{required:!0},name:{required:!0},"father-name":{required:!0},IPN:{required:!0},"passport-ser":{required:!0},"passport-num":{required:!0},"passport-day":{required:!0},"passport-mouth":{required:!0},"passport-year":{required:!0},"idCard-num":{required:!0},"idCard-day":{required:!0},"idCard-mouth":{required:!0},"idCard-year":{required:!0},email:{required:!0,email:!0}},messages:{phone:{required:"",minlength:""},"sms-code":{required:""},"date-day":{required:""},"date-mouth":{required:""},"date-year":{required:""},surname:{required:"Має бути заповнено, кирилицею"},name:{required:"Має бути кирилицею"},"father-name":{required:"Має містити лише кирилицю, без спец символів та цифр"},IPN:{required:""},"passport-ser":{required:""},"passport-num":{required:""},"passport-day":{required:"Має бути заповнено"},"passport-mouth":{required:""},"idCard-num":{required:""},"idCard-day":{required:""},"idCard-mouth":{required:""},"idCard-year":{required:""},"passport-year":{required:""},email:{required:"Введіть дійсний e-mail"}}}),e.on("click",e=>{e.preventDefault(),$("#step2-form").valid()&&(s.nextStep(),s.renderStep())}),$(".thanks-you__close").on("click",(function(){s.prevStep(),s.renderStep()}))}if(formPersonal&&$("#form-personal").validate({rules:{surname:{required:!0},name:{required:!0},"father-name":{required:!0},IPN:{required:!0},"passport-ser":{required:!0},"passport-num":{required:!0},"passport-day":{required:!0},"passport-mouth":{required:!0},"passport-year":{required:!0},"idCard-num":{required:!0},"idCard-day":{required:!0},"idCard-mouth":{required:!0},"idCard-year":{required:!0}},messages:{surname:{required:"Має бути заповнено, кирилицею"},name:{required:"Має бути кирилицею"},"father-name":{required:"Має містити лише кирилицю, без спец символів та цифр"},IPN:{required:""},"passport-ser":{required:""},"passport-num":{required:""},"passport-day":{required:"Має бути заповнено"},"passport-mouth":{required:""},"idCard-num":{required:""},"idCard-day":{required:""},"idCard-mouth":{required:""},"idCard-year":{required:""},"passport-year":{required:""}}}),formSetting&&$("#form-setting").validate({rules:{phone:{required:!0,minlength:7},email:{required:!0,email:!0}},messages:{phone:{required:"",minlength:""},email:{required:"Введіть дійсний e-mail"}}}),regForm){let e=$("#service-type");e.on("click",(function(){"1"===e.val()?($(".form-partner__block--fin").hide(),$(".form-partner__block--ur").show()):"2"===e.val()&&($(".form-partner__block--fin").show(),$(".form-partner__block--ur").hide())})),regForm.validate({rules:{phone:{required:!0,minlength:7},email:{required:!0,email:!0},email2:{required:!0,email:!0}},messages:{phone:{required:"",minlength:""},email:{required:"Введіть дійсний e-mail"},email2:{required:"Введіть дійсний e-mail"}}})}let checkboxMore=$(".buy-choose__showMore");checkboxMore.on("click",(function(){$(this).parents(".review-form__checkbox").toggleClass("showMore")}));let reviewForm=$("#review-form");reviewForm&&reviewForm.validate({rules:{"sms-code":{required:!0}},messages:{"sms-code":{required:""}}});let manifestHead=$(".manifest-questions__header");manifestHead.on("click",(function(){$(this).parent().toggleClass("active")}));let shopAsideItem=$(".shops-aside__item"),shopContentItem=$(".shops-content__block");shopAsideItem.on("click",(function(){let e=$(this).index();$(this).addClass("current").siblings().removeClass("current"),shopContentItem.removeClass("active"),shopContentItem.eq(e).addClass("active")})),AOS.init({easing:"ease-out-back",duration:1e3});const stepItems=document.querySelectorAll(".steps-item__step");function scrollAddActive(){stepItems.forEach(e=>{const t=e,r=t.offsetHeight,i=function(e){const t=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+i,left:t.left+r}}(t).top;let o=window.innerHeight-r/1;r>window.innerHeight&&(o=window.innerHeight-window.innerHeight/1),pageYOffset>i-o&&pageYOffset<i+r?t.classList.add("active"):t.classList.remove("active")})}scrollAddActive(),window.addEventListener("scroll",scrollAddActive),$(".info-navigation__link").click((function(e){e.preventDefault();let t=$(this).attr("scroll-href"),r=$(t).offset().top;return $("html, body").animate({scrollTop:r},1e3),!1})),$(".info-girl__btn").click((function(e){e.preventDefault();let t=$(this).attr("scroll-href"),r=$(t).offset().top;$("html, body").animate({scrollTop:r},1e3),$(t).addClass("active")}));const steps=document.querySelectorAll(".steps-item");function fullPageScroll(){steps.forEach(e=>{const t=e,r=t.offsetHeight,i=function(e){const t=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+i,left:t.left+r}}(t).top;let o=window.innerHeight-r/1;r>window.innerHeight&&(o=window.innerHeight-window.innerHeight/1),pageYOffset>i-o&&pageYOffset<i+r?t.classList.add("active"):t.classList.remove("active")}),nextStepScroll()}function nextStepScroll(){document.querySelectorAll(".steps-item").forEach(e=>{let t=0;e.classList.contains("active")&&(t++,console.log(t))})}fullPageScroll(),nextStepScroll(),window.addEventListener("scroll",fullPageScroll);